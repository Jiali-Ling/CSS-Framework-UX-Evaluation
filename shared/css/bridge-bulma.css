/* Bridge: Map tokens to Bulma classes */

:root {
  /* Bulma 1.0 uses HSL color system - convert hex tokens */
  --bulma-primary-h: 217deg;
  --bulma-primary-s: 91%;
  --bulma-primary-l: 60%;
  
  --bulma-success-h: 160deg;
  --bulma-success-s: 84%;
  --bulma-success-l: 39%;
  
  --bulma-danger-h: 0deg;
  --bulma-danger-s: 84%;
  --bulma-danger-l: 60%;
  
  --bulma-warning-h: 38deg;
  --bulma-warning-s: 92%;
  --bulma-warning-l: 50%;
  
  --bulma-info-h: 217deg;
  --bulma-info-s: 91%;
  --bulma-info-l: 60%;
  
  /* Override Bulma button variables */
  --bulma-button-h: var(--bulma-primary-h);
  --bulma-button-s: var(--bulma-primary-s);
  --bulma-button-background-l: var(--bulma-primary-l);
  --bulma-button-background-l-delta: 0%;
  
  --bulma-link-h: var(--bulma-primary-h);
  --bulma-link-s: var(--bulma-primary-s);
  --bulma-link-l: var(--bulma-primary-l);
}

/* Unified color scheme for fair comparison */
:root:not([data-theme="dark"]) {
  --color-text: #0f172a;
  --color-muted: #64748b;
  --color-primary: #3b82f6;
}

/* Dark theme: bright text for all elements */
:root[data-theme="dark"] body,
:root[data-theme="dark"] .card,
:root[data-theme="dark"] .box,
:root[data-theme="dark"] .title,
:root[data-theme="dark"] .subtitle,
:root[data-theme="dark"] .label,
:root[data-theme="dark"] .input,
:root[data-theme="dark"] .textarea,
:root[data-theme="dark"] .select select,
:root[data-theme="dark"] .table,
:root[data-theme="dark"] .button,
:root[data-theme="dark"] .tag,
:root[data-theme="dark"] p,
:root[data-theme="dark"] span,
:root[data-theme="dark"] h1,
:root[data-theme="dark"] h2,
:root[data-theme="dark"] h3,
:root[data-theme="dark"] h4,
:root[data-theme="dark"] h5,
:root[data-theme="dark"] h6 {
  color: #ffffff !important;
}

:root[data-theme="dark"] .input::placeholder,
:root[data-theme="dark"] .textarea::placeholder {
  color: #cbd5e1 !important;
  opacity: 1;
}

:root[data-theme="dark"] .help,
:root[data-theme="dark"] .has-text-grey,
:root[data-theme="dark"] .has-text-grey-light {
  color: #e2e8f0 !important;
}

:root[data-theme="dark"] .button.is-primary,
:root[data-theme="dark"] .button.is-info {
  color: #000000 !important;
}

:root[data-theme="dark"] .button.is-light,
:root[data-theme="dark"] .button.is-white {
  color: #000000 !important;
  background-color: #ffffff !important;
  border-color: #ffffff !important;
}

:root[data-theme="dark"] .tag,
:root[data-theme="dark"] .tag.is-light {
  color: #000000 !important;
  background-color: #ffffff !important;
  border-color: #ffffff !important;
}

:root[data-theme="dark"] a {
  color: #a78bfa !important;
}

body { background: var(--color-bg); color: var(--color-text); }
.card {
  background: var(--color-panel);
  border-radius: var(--radius-xl);
  box-shadow: var(--shadow-md);
  border: 1px solid rgba(148,163,184,.12);
  color: var(--color-text);
}
.title, .subtitle, .label { color: var(--color-text) !important; }
.help, .has-text-grey, .has-text-grey-light { color: var(--color-muted) !important; }
.input, .textarea, .select select {
  background: rgba(255,255,255,.04);
  color: var(--color-text);
  border-color: rgba(148,163,184,.28);
}
.input::placeholder, .textarea::placeholder { color: var(--color-muted); }
.input:focus, .textarea:focus, .select select:focus {
  border-color: var(--color-primary);
  box-shadow: 0 0 0 .15rem color-mix(in srgb, var(--color-primary), transparent 75%);
}
.button.is-primary {
  background-color: var(--color-primary) !important;
  border-color: var(--color-primary) !important;
  color: white !important;
}

.button.is-primary:hover,
.button.is-primary:focus {
  background-color: color-mix(in srgb, var(--color-primary) 85%, black) !important;
  border-color: color-mix(in srgb, var(--color-primary) 85%, black) !important;
}

.button.is-primary:active {
  background-color: color-mix(in srgb, var(--color-primary) 80%, black) !important;
  border-color: color-mix(in srgb, var(--color-primary) 80%, black) !important;
}
.button.is-secondary {
  background: var(--color-secondary);
  border-color: var(--color-secondary);
  color: #0b1220;
}
.button { border-radius: 999px; }
.table th, .table td { border-color: rgba(148,163,184,.12) !important; }
.tag.is-round { border-radius: 999px; border: 1px solid rgba(148,163,184,.18); background: transparent; color: var(--color-text); }


/* Base */
html, body {
  background: var(--color-surface);
  color: var(--color-text);
}
a { color: var(--color-primary); }
a:hover { color: var(--primary-hover); }

/* Buttons */
.button {
  border-radius: var(--radius-md);
  height: var(--control-height-md);
}

/* .button.is-primary styles defined above with !important */

.button.is-success { background-color: var(--color-success); color: #fff; }
.button.is-warning { background-color: var(--color-warning); color: #111827; }
.button.is-danger  { background-color: var(--color-danger);  color: #fff; }
.button:focus-visible { outline: var(--focus-ring); }

/* Inputs */
.input, .textarea, .select select {
  border-radius: var(--radius-md);
  min-height: var(--control-height-md);
}
.input:focus, .textarea:focus, .select select:focus {
  border-color: var(--color-primary);
  box-shadow: none;
  outline: var(--focus-ring);
}
.input.is-success, .textarea.is-success { border-color: var(--color-success); }
.input.is-warning, .textarea.is-warning { border-color: var(--color-warning); }
.input.is-danger,  .textarea.is-danger  { border-color: var(--color-danger); }

/* Notifications */
.notification {
  background: var(--color-surface-2);
  color: var(--color-text);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-sm);
}
.notification.is-primary {
  background: color-mix(in srgb, var(--color-primary), #fff 90%);
  color: color-mix(in srgb, var(--color-primary), #000 70%);
  border-color: color-mix(in srgb, var(--color-primary), #fff 60%);
}
.notification.is-success {
  background: color-mix(in srgb, var(--color-success), #fff 90%);
  color: color-mix(in srgb, var(--color-success), #000 70%);
  border-color: color-mix(in srgb, var(--color-success), #fff 60%);
}
.notification.is-warning {
  background: color-mix(in srgb, var(--color-warning), #fff 90%);
  color: color-mix(in srgb, var(--color-warning), #000 70%);
  border-color: color-mix(in srgb, var(--color-warning), #fff 60%);
}
.notification.is-danger {
  background: color-mix(in srgb, var(--color-danger), #fff 90%);
  color: color-mix(in srgb, var(--color-danger), #000 70%);
  border-color: color-mix(in srgb, var(--color-danger), #fff 60%);
}

/* Tags & badges */
.tag.is-primary { background-color: var(--color-primary); color: var(--color-on-primary); }
.tag.is-success { background-color: var(--color-success); color: #fff; }
.tag.is-warning { background-color: var(--color-warning); color: #111827; }
.tag.is-danger  { background-color: var(--color-danger);  color: #fff; }

/* Navbar / Tabs / Breadcrumbs */
.navbar, .tabs, .breadcrumb {
  --bulma-border-color: var(--color-border);
}
.navbar {
  background: var(--color-surface);
  border-bottom: 1px solid var(--bulma-border-color);
}
.tabs li.is-active a { border-bottom-color: var(--color-primary); color: var(--color-primary); }
.breadcrumb a { color: var(--color-muted); }
.breadcrumb a:hover { color: var(--color-primary); }

/* Tables */
.table {
  background: var(--color-surface);
  color: var(--color-text);
  border-color: var(--color-border);
}
.table thead th { background: color-mix(in srgb, var(--color-surface-2), #000 0%); }

/* Accessibility helpers */
[role="status"], [aria-live] { outline-offset: 2px; }
