<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>UX Study Portal — Submission Successful</title>
    <link rel="icon" href="data:,">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500;600;700;800&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.2/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="../shared/css/tokens.css" rel="stylesheet" />
    <link href="../shared/css/bridge-bootstrap.css" rel="stylesheet" />
    <link href="../shared/css/app.css" rel="stylesheet" />

    <style>
      :root { --edu-navy:#1a2f5a; --edu-blue:#2558a8; --edu-light:#eef3fb; --edu-border:#d0d9e8; }
      body { font-family:'Inter',-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif; background:#f0f4fb; font-weight:500; -webkit-font-smoothing:antialiased; }
      .portal-topbar { position:fixed;top:0;left:0;right:0;z-index:100;height:56px;background:var(--edu-navy);display:flex;align-items:center;justify-content:space-between;padding:0 20px;box-shadow:0 2px 10px rgba(0,0,0,.3); }
      .topbar-brand { display:flex;align-items:center;gap:9px;color:#fff;font-size:.88rem;font-weight:600;text-decoration:none; }
      .topbar-brand i { color:#90b8e8;font-size:1.05rem; }
      .topbar-brand .edition { font-size:.73rem;font-weight:400;opacity:.6;background:rgba(255,255,255,.12);padding:2px 7px;border-radius:4px; }
      .page-canvas { min-height:100vh;padding:58px 16px 16px;display:flex;align-items:center;justify-content:center; }
      .portal-card { width:100%;max-width:680px;background:#fff;border:1px solid var(--edu-border);border-radius:12px;box-shadow:0 4px 28px rgba(26,47,90,.10);overflow:hidden; }
      .portal-card__head { background:var(--edu-navy);padding:26px 28px 22px;display:flex;gap:16px;align-items:flex-start; }
      .head-icon { width:52px;height:52px;flex-shrink:0;background:rgba(255,255,255,.12);border-radius:10px;display:flex;align-items:center;justify-content:center; }
      .head-icon i { font-size:1.8rem;color:#90b8e8; }
      .head-text h1 { font-family:'Poppins',sans-serif;font-size:1.65rem;font-weight:700;color:#fff;margin:0 0 5px;letter-spacing:-0.02em; }
      .head-text p { font-size:.95rem;color:#8ab0d8;margin:0;line-height:1.5;font-weight:500; }
      .portal-card__body { padding:26px 28px 30px; }
      .success-message { background:#dcfce7;border:1px solid #86efac;border-radius:10px;padding:16px 18px;margin-bottom:24px;display:flex;align-items:flex-start;gap:12px; }
      .success-message i { color:#16a34a;font-size:1.5rem;margin-top:2px; }
      .success-message__content h2 { font-size:1.2rem;font-weight:700;color:#166534;margin:0 0 4px;letter-spacing:-0.01em; }
      .success-message__content p { font-size:.98rem;color:#15803d;margin:0;line-height:1.6;font-weight:500; }
      .info-box { display:flex;justify-content:space-between;align-items:center;padding:12px 16px;background:var(--edu-light);border:1px solid var(--edu-border);border-radius:8px;margin-bottom:20px; }
      .info-box__label { font-size:.92rem;color:#64748b;font-weight:600; }
      .info-box__value { font-size:1.05rem;color:var(--edu-navy);font-weight:700; }
      .action-buttons { display:flex;gap:10px;flex-wrap:wrap; }
      .btn-primary-edu { background:var(--edu-navy);color:#fff;border:none;border-radius:8px;padding:.8rem 1.7rem;font-weight:700;font-size:1.05rem;display:inline-flex;align-items:center;gap:7px;text-decoration:none;transition:opacity .15s;letter-spacing:0.01em; }
      .btn-primary-edu:hover { opacity:.9;color:#fff; }
      .btn-secondary-edu { background:var(--edu-light);color:var(--edu-blue);border:1px solid var(--edu-border);border-radius:8px;padding:.8rem 1.7rem;font-weight:700;font-size:1.05rem;display:inline-flex;align-items:center;gap:7px;text-decoration:none;transition:background .15s;letter-spacing:0.01em; }
      .btn-secondary-edu:hover { background:#dce8f6;color:var(--edu-blue); }
      .theme-switch { position:fixed;left:20px;bottom:20px;z-index:100;padding:12px 20px;border-radius:999px;border:2px solid var(--edu-border);background:#fff;color:#475569;font-size:.95rem;font-weight:600;cursor:pointer;display:flex;align-items:center;gap:8px;box-shadow:0 4px 16px rgba(26,47,90,.15);transition:all .2s ease; }
      .theme-switch:hover { transform:translateY(-2px);box-shadow:0 6px 20px rgba(26,47,90,.25);border-color:#2558a8; }
      .theme-switch i { font-size:1.1rem; }
      :root[data-theme="dark"] body { background:#0d1320; }
      :root[data-theme="dark"] .portal-card { background:#182030;border-color:#2d3d5a; }
      :root[data-theme="dark"] .portal-card__body { color:#e0e8f0; }
      :root[data-theme="dark"] .success-message { background:#064e3b;border-color:#047857; }
      :root[data-theme="dark"] .success-message__content h2 { color:#86efac; }
      :root[data-theme="dark"] .success-message__content p { color:#bbf7d0; }
      :root[data-theme="dark"] .info-box { background:#182540;border-color:#2d3d5a; }
      :root[data-theme="dark"] .info-box__value { color:#a8c8e8; }
      :root[data-theme="dark"] .theme-switch { background:#182030;border-color:#3d5d8a;color:#90b0d8;box-shadow:0 4px 16px rgba(0,0,0,.3); }
      :root[data-theme="dark"] .theme-switch:hover { border-color:#4a7bc8;box-shadow:0 6px 20px rgba(0,0,0,.4); }
      @media(max-width:576px){ .page-canvas{padding:58px 12px 12px;} .portal-card{max-width:100%;} .portal-card__head{padding:20px;} .portal-card__body{padding:20px;} .topbar-brand .edition{display:none;} }
      @media(min-width:768px){ .page-canvas{padding:58px 24px 16px;} .portal-card{max-width:750px;} }
      @media(min-width:1024px){ .page-canvas{padding:58px 32px 16px;} .portal-card{max-width:900px;} }
    </style>
  </head>

  <body data-framework="bootstrap" data-page="success">
    <a class="skip-link visually-hidden-focusable" href="#main">Skip to main content</a>
    <div id="statusLive" class="visually-hidden" aria-live="polite"></div>

    <header class="portal-topbar" role="banner">
      <a class="topbar-brand" href="./index.html">
        <i class="fa-solid fa-building-columns" aria-hidden="true"></i>
        <span>UX Study Portal</span>
        <span class="edition">Bootstrap Edition</span>
      </a>
      <div style="display:flex;align-items:center;gap:8px;">
        <span id="pidBadge" style="font-size:.76rem;color:#90b8e8;font-weight:500;">ID: —</span>
      </div>
    </header>

    <main id="main" class="page-canvas" tabindex="-1">
      <div class="portal-card">
        <div class="portal-card__head">
          <div class="head-icon"><i class="fa-solid fa-circle-check" aria-hidden="true"></i></div>
          <div class="head-text">
            <h1>Submission Successful</h1>
            <p>Your assignment has been submitted and recorded in the study database.</p>
          </div>
        </div>

        <div class="portal-card__body">
          <div class="success-message">
            <i class="fa-solid fa-check-circle" aria-hidden="true"></i>
            <div class="success-message__content">
              <h2>Thank You!</h2>
              <p>Your submission has been recorded (simulated). You can now view your feedback or submit another assignment.</p>
            </div>
          </div>

          <div class="info-box">
            <span class="info-box__label">Your Study ID</span>
            <span id="studyIdBadge" class="info-box__value">—</span>
          </div>

          <div class="action-buttons">
            <a class="btn-primary-edu" href="./feedback.html">
              <i class="fa-solid fa-clipboard-list"></i>
              View Feedback
            </a>
            <a class="btn-secondary-edu" href="./submit.html">
              <i class="fa-solid fa-file-arrow-up"></i>
              Submit Another
            </a>
            <a class="btn-secondary-edu" href="./index.html">
              <i class="fa-solid fa-house"></i>
              Back to Login
            </a>
          </div>
        </div>
      </div>
    </main>

    <button id="themeToggle" class="theme-switch" type="button" aria-label="Toggle color theme" onclick="toggleTheme()">
      <i class="fa-solid fa-circle-half-stroke"></i>
      Theme
    </button>

    <script type="module" src="../shared/js/app.js"></script>
    <script src="../shared/js/theme.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      // Display Study ID after page loads
      window.addEventListener('load', () => {
        setTimeout(() => {
          const identityRaw = localStorage.getItem('study_identity_v1');
          if (identityRaw) {
            try {
              const identity = JSON.parse(identityRaw);
              const studyId = identity.studyId || '—';
              
              // Update top badge
              const pidBadge = document.getElementById('pidBadge');
              if (pidBadge) {
                pidBadge.textContent = `ID: ${studyId}`;
              }
              
              // Update info box
              const studyIdBadge = document.getElementById('studyIdBadge');
              if (studyIdBadge) {
                studyIdBadge.textContent = studyId;
              }
            } catch (e) {
              console.error('Failed to parse identity:', e);
            }
          }
        }, 100);
      });
    </script>
  </body>
</html>
