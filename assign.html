<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Study Entry</title>
</head>
<body>
<script>
    // Platform URLs (relative paths for flexibility)
    const BOOTSTRAP_URL = "bootstrap-version/index.html";
    const BULMA_URL = "bulma-version/index.html";

    // Keep assignment stable to avoid switching groups on refresh
    const KEY = "assigned_version";
    let assigned = null;
    try { 
        assigned = localStorage.getItem(KEY); 
    } catch(e) {
        console.warn("localStorage not available:", e);
    }

    // First visit: 50/50 random assignment
    if (!assigned) {
        assigned = (Math.random() < 0.5) ? "A" : "B"; // A=Bootstrap, B=Bulma
        try { 
            localStorage.setItem(KEY, assigned); 
            console.log("New assignment:", assigned === "A" ? "Bootstrap" : "Bulma");
        } catch(e) {
            console.warn("Cannot save assignment:", e);
        }
    } else {
        console.log("Existing assignment:", assigned === "A" ? "Bootstrap" : "Bulma");
    }

    // Redirect to assigned version
    const target = (assigned === "A") ? BOOTSTRAP_URL : BULMA_URL;
    window.location.replace(target);
</script>
</body>
</html>
