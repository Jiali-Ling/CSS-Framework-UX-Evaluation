<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>UX Study Portal — Submit Assignment</title>
  <link rel="icon" href="data:,">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Source+Serif+4:opsz,wght@8..60,400;8..60,600;8..60,700&family=DM+Sans:opsz,wght@9..40,300;9..40,400;9..40,500;9..40,600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.2/css/all.min.css">
  <link href="https://cdn.jsdelivr.net/npm/bulma@1.0.2/css/bulma.min.css" rel="stylesheet">
  <link href="../shared/css/tokens.css" rel="stylesheet">
  <link href="../shared/css/bridge-bulma.css" rel="stylesheet">
  <link href="../shared/css/app.css" rel="stylesheet">

  <style>
    :root { --edu-navy:#1a2f5a; --edu-blue:#2558a8; --edu-light:#eef3fb; --edu-border:#d0d9e8; }
    body { font-family:'DM Sans',sans-serif !important; background:#f0f4fb; }
    .portal-topbar { position:fixed;top:0;left:0;right:0;z-index:100;height:56px;background:var(--edu-navy);display:flex;align-items:center;justify-content:space-between;padding:0 20px;box-shadow:0 2px 10px rgba(0,0,0,.3); }
    .topbar-brand { display:flex;align-items:center;gap:9px;color:#fff;font-size:.88rem;font-weight:600;text-decoration:none; }
    .topbar-brand i { color:#90b8e8;font-size:1.05rem; }
    .topbar-brand .edition { font-size:.73rem;font-weight:400;opacity:.6;background:rgba(255,255,255,.12);padding:2px 7px;border-radius:4px; }
    .page-canvas { min-height:100vh;padding:80px 16px 48px;display:flex;align-items:flex-start;justify-content:center; }
    .portal-card { width:min(580px,100%);background:#fff;border:1px solid var(--edu-border);border-radius:12px;box-shadow:0 4px 28px rgba(26,47,90,.10);overflow:hidden; }
    .portal-card__head { background:var(--edu-navy);padding:26px 28px 22px;display:flex;gap:16px;align-items:flex-start; }
    .head-icon { width:52px;height:52px;flex-shrink:0;background:rgba(255,255,255,.12);border-radius:10px;display:flex;align-items:center;justify-content:center; }
    .head-icon i { font-size:1.55rem;color:#90b8e8; }
    .head-text h1 { font-family:'Source Serif 4',Georgia,serif !important;font-size:1.3rem;font-weight:600;color:#fff;margin:0 0 5px !important; }
    .head-text p { font-size:.8rem;color:#8ab0d8;margin:0 !important;line-height:1.5; }
    .portal-card__body { padding:26px 28px 30px; }
    .step-track { display:flex;align-items:center;padding:14px 18px;background:var(--edu-light);border:1px solid #ccd9f0;border-radius:10px;margin-bottom:22px; }
    .step-node { display:flex;flex-direction:column;align-items:center;gap:5px;flex:1; }
    .step-node__circle { width:34px;height:34px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:.82rem; }
    .step-node__circle.is-done { background:#16a34a;color:#fff; }
    .step-node__circle.is-active { background:var(--edu-blue);color:#fff;box-shadow:0 0 0 3px rgba(37,88,168,.18); }
    .step-node__circle.is-pending { background:#dce6f5;color:#7a9dc8; }
    .step-node__text { font-size:.68rem;font-weight:500;color:#5c7099;text-align:center; }
    .step-node__text.is-active { color:var(--edu-blue);font-weight:600; }
    .step-node__text.is-done { color:#16a34a; }
    .step-line { height:2px;flex:1;max-width:36px;background:#ccd9f0;margin-bottom:18px; }
    .step-line.done { background:#16a34a; }
    .notice-box { display:flex;gap:9px;align-items:flex-start;padding:11px 13px;margin-bottom:22px;background:var(--edu-light);border-left:3px solid var(--edu-blue);border-radius:0 8px 8px 0;font-size:.8rem;color:#2d4e80;line-height:1.55; }
    .notice-box i { margin-top:2px;flex-shrink:0; }
    .field-label-row { display:flex;align-items:center;justify-content:space-between;margin-bottom:5px; }
    .label { font-size:.83rem;font-weight:500;color:var(--edu-navy) !important; }
    .badge-req { font-size:.7rem;background:#fee2e2;color:#991b1b;padding:2px 7px;border-radius:4px;font-weight:600; }
    .badge-opt { font-size:.7rem;background:#f1f5f9;color:#64748b;padding:2px 7px;border-radius:4px; }
    .input, .select select, .textarea {
      border:1px solid var(--edu-border) !important;border-radius:8px !important;
      font-size:.88rem !important;font-family:'DM Sans',sans-serif !important;
    }
    .input:focus, .select select:focus, .textarea:focus {
      border-color:var(--edu-blue) !important;box-shadow:0 0 0 3px rgba(37,88,168,.12) !important;
    }
    .help { font-size:.76rem !important; }
    .drop-zone { border:2px dashed var(--edu-border);border-radius:10px;padding:28px 20px;text-align:center;cursor:pointer;transition:.2s;background:#fafcff; }
    .drop-zone:hover,.drop-zone.drag-over { border-color:var(--edu-blue);background:var(--edu-light); }
    .drop-zone__icon { font-size:2rem;color:#90b8e8;margin-bottom:8px; }
    .drop-zone__cta { font-size:.85rem;color:#344566;margin:0; }
    .drop-zone__cta a { color:var(--edu-blue);font-weight:600;text-decoration:none; }
    .drop-zone__sub { font-size:.76rem;color:#94a3b8;margin:4px 0 0; }
    .drop-zone__chosen { font-size:.83rem;color:#16a34a;font-weight:600;margin-top:6px;display:none; }
    .drop-zone__chosen.visible { display:block; }
    .button.is-primary { background:var(--edu-navy) !important;border:none !important;font-weight:600 !important;border-radius:8px !important;font-family:'DM Sans',sans-serif !important; }
    .button.is-primary:hover { background:var(--edu-blue) !important; }
    .button.is-light { border:1.5px solid var(--edu-border) !important;color:#344566 !important;font-weight:500 !important;border-radius:8px !important; }
    .button.is-light:hover { border-color:var(--edu-blue) !important;color:var(--edu-blue) !important;background:var(--edu-light) !important; }
    .theme-switch { position:fixed;left:14px;bottom:14px;z-index:30;padding:6px 13px;border-radius:999px;border:1px solid var(--edu-border);background:#fff;color:#475569;font-size:.76rem;cursor:pointer;display:flex;align-items:center;gap:5px; }
    :root[data-theme="dark"] body { background:#0d1320; }
    :root[data-theme="dark"] .portal-card { background:#182030;border-color:#2d3d5a; }
    :root[data-theme="dark"] .portal-card__body { color:#c8d8f0; }
    :root[data-theme="dark"] .step-track { background:#182540;border-color:#2d3d5a; }
    :root[data-theme="dark"] .notice-box { background:#182540;color:#90b8e8; }
    :root[data-theme="dark"] .label { color:#90b0d8 !important; }
    :root[data-theme="dark"] .input,:root[data-theme="dark"] .select select,:root[data-theme="dark"] .textarea { background:#1e2c42 !important;border-color:#2d3d5a !important;color:#c8d8f0 !important; }
    :root[data-theme="dark"] .drop-zone { background:#1a2440;border-color:#2d3d5a; }
    :root[data-theme="dark"] .button.is-light { background:#182030 !important;border-color:#2d3d5a !important;color:#90b0d8 !important; }
    :root[data-theme="dark"] .theme-switch { background:#182030;border-color:#2d3d5a;color:#90b0d8; }
    @media (max-width:460px) { .portal-card__head{padding:18px;} .portal-card__body{padding:18px;} .topbar-brand .edition{display:none;} }
  </style>
</head>

<body data-framework="bulma">
  <a class="skip-link" href="#main">Skip to main content</a>
  <div id="statusLive" class="is-sr-only" aria-live="polite"></div>

  <header class="portal-topbar" role="banner">
    <a class="topbar-brand" href="./index.html">
      <i class="fa-solid fa-building-columns" aria-hidden="true"></i>
      <span>UX Study Portal</span>
      <span class="edition">Bulma Edition</span>
    </a>
    <div style="display:flex;align-items:center;gap:8px;">
      <a class="button is-small is-light" href="../admin/log.html" target="_blank" rel="noopener" style="font-size:.76rem;">
        <span class="icon"><i class="fa-solid fa-terminal"></i></span><span>Log</span>
      </a>
      <span id="pidBadge" style="font-size:.76rem;color:#90b8e8;font-weight:500;">ID: —</span>
    </div>
  </header>

  <main id="main" class="page-canvas" role="main" tabindex="-1">
    <div class="portal-card">
      <div class="portal-card__head">
        <div class="head-icon"><i class="fa-solid fa-file-pen" aria-hidden="true"></i></div>
        <div class="head-text">
          <h1>Submit Your Assignment</h1>
          <p>Select a module, attach your work, then click Submit. This is a simulated submission for study purposes.</p>
        </div>
      </div>

      <div class="portal-card__body">
        <nav class="step-track" aria-label="Study session steps">
          <div class="step-node">
            <div class="step-node__circle is-done"><i class="fa-solid fa-check" aria-hidden="true"></i></div>
            <span class="step-node__text is-done">Sign In</span>
          </div>
          <div class="step-line done" aria-hidden="true"></div>
          <div class="step-node">
            <div class="step-node__circle is-active" aria-current="step">
              <i class="fa-solid fa-file-lines" aria-hidden="true"></i>
            </div>
            <span class="step-node__text is-active">Submit</span>
          </div>
          <div class="step-line" aria-hidden="true"></div>
          <div class="step-node">
            <div class="step-node__circle is-pending"><i class="fa-solid fa-award" aria-hidden="true"></i></div>
            <span class="step-node__text">Results</span>
          </div>
        </nav>

        <div class="notice-box" role="note">
          <i class="fa-solid fa-flask" aria-hidden="true"></i>
          <span>This is a simulated submission used only to evaluate the portal interface. No actual academic work is assessed. Choose any module below and attach any file.</span>
        </div>

        <form id="submitForm" data-next="./feedback.html" novalidate>
          <div class="field">
            <div class="field-label-row">
              <label class="label" for="taskSelect">
                <span class="icon-text">
                  <span class="icon" style="color:#7a9dc8;"><i class="fa-solid fa-book-open" aria-hidden="true"></i></span>
                  <span>Module / Assignment</span>
                </span>
              </label>
              <span class="badge-req">Required</span>
            </div>
            <div class="control">
              <div class="select is-fullwidth">
                <select id="taskSelect">
                  <option value="">— Select a module —</option>
                  <option value="Web Dev Lab">Web Development Lab</option>
                  <option value="HCI Coursework 1">HCI Coursework 1</option>
                  <option value="Programming Lab">Programming Lab</option>
                </select>
              </div>
            </div>
            <p class="help">Choose the module you are simulating a submission for.</p>
          </div>

          <div class="field mt-4">
            <div class="field-label-row">
              <label class="label" for="fileInput">
                <span class="icon-text">
                  <span class="icon" style="color:#7a9dc8;"><i class="fa-solid fa-paperclip" aria-hidden="true"></i></span>
                  <span>Attach Document</span>
                </span>
              </label>
              <span class="badge-opt">Optional</span>
            </div>
            <div class="drop-zone" id="dropZone" role="button" tabindex="0"
                 aria-label="Click to choose a file or drag and drop here">
              <div class="drop-zone__icon"><i class="fa-solid fa-cloud-arrow-up" aria-hidden="true"></i></div>
              <p class="drop-zone__cta"><a id="browseLink">Click to browse</a> or drag a file here</p>
              <p class="drop-zone__sub">PDF, ZIP, DOC, DOCX accepted</p>
              <p class="drop-zone__chosen" id="chosenFileName"></p>
            </div>
            <input type="file" style="display:none;" id="fileInput" accept=".pdf,.zip,.doc,.docx" aria-label="Choose a file to attach">
          </div>

          <div class="field mt-4">
            <div class="field-label-row">
              <label class="label" for="commentsInput">
                <span class="icon-text">
                  <span class="icon" style="color:#7a9dc8;"><i class="fa-solid fa-pen-nib" aria-hidden="true"></i></span>
                  <span>Submission Notes</span>
                </span>
              </label>
              <span class="badge-opt">Optional</span>
            </div>
            <div class="control">
              <textarea class="textarea" id="commentsInput" rows="3"
                        placeholder="Add any notes about this submission..."></textarea>
            </div>
            <p class="help">Your notes will appear in the feedback record.</p>
          </div>

          <div class="field is-grouped is-grouped-multiline mt-5" style="gap:8px;">
            <div class="control">
              <button type="submit" class="button is-primary" aria-describedby="submit-hint">
                <span class="icon"><i class="fa-solid fa-paper-plane" aria-hidden="true"></i></span>
                <span>Submit Assignment</span>
              </button>
            </div>
            <div class="control">
              <a class="button is-light" href="./feedback.html" aria-describedby="view-fb-hint">
                <span class="icon"><i class="fa-solid fa-award" aria-hidden="true"></i></span>
                <span>View Feedback</span>
              </a>
            </div>
          </div>
          <p class="help mt-1" id="submit-hint">Records a submission and redirects to your results page.</p>
          <p class="help mt-1" id="view-fb-hint">Opens your latest feedback directly.</p>
        </form>
      </div>
    </div>
  </main>

  <button id="themeToggle" class="theme-switch" type="button" aria-label="Toggle colour theme" aria-pressed="false">
    <i class="fa-regular fa-moon" aria-hidden="true"></i> Theme
  </button>

  <script type="module" src="../shared/js/app.js"></script>
  <script defer src="../shared/js/metrics.js"></script>
  <script defer src="../shared/js/theme.js"></script>
  <script>
  document.addEventListener('DOMContentLoaded', function () {
    const fileInput=document.getElementById('fileInput'),dropZone=document.getElementById('dropZone'),browseLink=document.getElementById('browseLink'),chosenName=document.getElementById('chosenFileName');
    function showFile(n){chosenName.textContent=n?'\u2713 '+n:'';chosenName.classList.toggle('visible',!!n);}
    browseLink.addEventListener('click',()=>fileInput.click());
    dropZone.addEventListener('keydown',e=>{if(e.key==='Enter'||e.key===' ')fileInput.click();});
    fileInput.addEventListener('change',e=>showFile(e.target.files[0]?.name||''));
    dropZone.addEventListener('dragover',e=>{e.preventDefault();dropZone.classList.add('drag-over');});
    dropZone.addEventListener('dragleave',()=>dropZone.classList.remove('drag-over'));
    dropZone.addEventListener('drop',e=>{e.preventDefault();dropZone.classList.remove('drag-over');const f=e.dataTransfer.files[0];if(f){const dt=new DataTransfer();dt.items.add(f);fileInput.files=dt.files;showFile(f.name);}});
  });
  </script>
</body>
</html>